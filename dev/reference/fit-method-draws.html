<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- upstream: inst/BS5/templates/head.html; pkgdown-version: 2.1.3, fe04924 --><!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 --><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extract posterior draws — fit-method-draws • cmdstanr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4.0.0/tex-mml-chtml.js" integrity="sha256-qoRlVrS5NAnXSSSiMfFXwK8C9obG11Iybe4h2+bQYR4=" crossorigin="anonymous">
  </script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_3-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- Font Awesome 7.0.1 for Bluesky icon --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" referrerpolicy="no-referrer"><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract posterior draws — fit-method-draws"><meta name="description" content="Extract posterior draws after MCMC or approximate posterior
draws after variational approximation using formats provided by the
posterior package.
The variables include the parameters, transformed parameters, and
generated quantities from the Stan program as well as lp__, the total
log probability (target) accumulated in the model block."><meta property="og:description" content="Extract posterior draws after MCMC or approximate posterior
draws after variational approximation using formats provided by the
posterior package.
The variables include the parameters, transformed parameters, and
generated quantities from the Stan program as well as lp__, the total
log probability (target) accumulated in the model block."><meta property="og:image" content="https://mc-stan.org/cmdstanr/logo.svg"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <!-- upstream: inst/BS5/templates/navbar.html; pkgdown-version: 2.1.3, fe04924 -->
<!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 -->
<nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">


    <a class="navbar-brand me-2" href="../index.html">
      <!-- Add Stan logo -->
      <picture><source type="image/svg+xml" srcset="../logo.svg"><img src="../logo.png" class="stan-logo" alt="Stan blue hex logo"></source></picture>
      cmdstanr
    </a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.9.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Go to homepage"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Other Packages</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-other-packages"><li><a class="external-link dropdown-item" href="https://mc-stan.org/bayesplot">bayesplot</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/loo">loo</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/posterior">posterior</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/projpred">projpred</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstan">rstan</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstanarm">rstanarm</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstantools">rstantools</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/shinystan">shinystan</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mc-stan.org/about/">About Stan</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/did:plc:qznndgdnkem2yryu7ipqbpv7" aria-label="Visit our Bluesky profile"><span class="fa fa-brands fa-bluesky"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://discourse.mc-stan.org/" aria-label="Visit our forums"><span class="fa fa-users"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stan-dev/cmdstanr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Extract posterior draws</h1>
      <small class="dont-index">Source: <a href="https://github.com/stan-dev/cmdstanr/blob/master/R/fit.R" class="external-link"><code>R/fit.R</code></a></small>
      <div class="d-none name"><code>fit-method-draws.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extract posterior draws after MCMC or approximate posterior
draws after variational approximation using formats provided by the
<span class="pkg">posterior</span> package.</p>
<p>The variables include the parameters, transformed parameters, and
generated quantities from the Stan program as well as <code>lp__</code>, the total
log probability (<code>target</code>) accumulated in the model block.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">draws</span><span class="op">(</span></span>
<span>  variables <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  inc_warmup <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"cmdstanr_draws_format"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-variables">variables<a class="anchor" aria-label="anchor" href="#arg-variables"></a></dt>
<dd><p>(character vector) Optionally, the names of the variables
(parameters, transformed parameters, and generated quantities) to read in.</p><ul><li><p>If <code>NULL</code> (the default) then all variables are included.</p></li>
<li><p>If an empty string (<code>variables=""</code>) then none are included.</p></li>
<li><p>For non-scalar variables all elements or specific elements can be selected:</p><ul><li><p><code>variables = "theta"</code> selects all elements of <code>theta</code>;</p></li>
<li><p><code>variables = c("theta[1]", "theta[3]")</code> selects only the 1st and 3rd elements.</p></li>
</ul></li>
</ul></dd>


<dt id="arg-inc-warmup">inc_warmup<a class="anchor" aria-label="anchor" href="#arg-inc-warmup"></a></dt>
<dd><p>(logical) Should warmup draws be included? Defaults to
<code>FALSE</code>. Ignored except when used with <a href="CmdStanMCMC.html">CmdStanMCMC</a> objects.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>(string) The format of the returned draws or point estimates.
Must be a valid format from the <span class="pkg">posterior</span> package. The defaults
are the following.</p><ul><li><p>For sampling and generated quantities the default is
<code><a href="https://mc-stan.org/posterior/reference/draws_array.html" class="external-link">"draws_array"</a></code>. This format keeps the chains
separate. To combine the chains use any of the other formats (e.g.
<code>"draws_matrix"</code>).</p></li>
<li><p>For point estimates from optimization and approximate draws from
variational inference the default is
<code><a href="https://mc-stan.org/posterior/reference/draws_array.html" class="external-link">"draws_matrix"</a></code>.</p></li>
</ul><p>To use a different format it can be specified as the full name of the
format from the <span class="pkg">posterior</span> package (e.g. <code>format = "draws_df"</code>) or
omitting the <code>"draws_"</code> prefix (e.g. <code>format = "df"</code>).</p>
<p><strong>Changing the default format</strong>: To change the default format for an entire
R session use <code>options(cmdstanr_draws_format = format)</code>, where <code>format</code> is
the name (in quotes) of a valid format from the posterior package. For
example <code>options(cmdstanr_draws_format = "draws_df")</code> will change the
default to a data frame.</p>
<p><strong>Note about efficiency</strong>: For models with a large number of parameters
(20k+) we recommend using the <code>"draws_list"</code> format, which is the most
efficient and RAM friendly when combining draws from multiple chains. If
speed or memory is not a constraint we recommend selecting the format that
most suits the coding style of the post processing phase.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Depends on the value of <code>format</code>. The defaults are:</p><ul><li><p>For <a href="model-method-sample.html">MCMC</a>, a 3-D
<code><a href="https://mc-stan.org/posterior/reference/draws_array.html" class="external-link">draws_array</a></code> object (iteration x chain x
variable).</p></li>
<li><p>For standalone <a href="model-method-generate-quantities.html">generated quantities</a>, a
3-D <code><a href="https://mc-stan.org/posterior/reference/draws_array.html" class="external-link">draws_array</a></code> object (iteration x chain x
variable).</p></li>
<li><p>For <a href="model-method-variational.html">variational inference</a>, a 2-D
<code><a href="https://mc-stan.org/posterior/reference/draws_matrix.html" class="external-link">draws_matrix</a></code> object (draw x variable) because
there are no chains. An additional variable <code>lp_approx__</code> is also included,
which is the log density of the variational approximation to the posterior
evaluated at each of the draws.</p></li>
<li><p>For <a href="model-method-optimize.html">optimization</a>, a 1-row
<code><a href="https://mc-stan.org/posterior/reference/draws_matrix.html" class="external-link">draws_matrix</a></code> with one column per variable. These
are <em>not</em> actually draws, just point estimates stored in the <code>draws_matrix</code>
format. See <code><a href="fit-method-mle.html">$mle()</a></code> to extract them as a numeric vector.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="CmdStanMCMC.html">CmdStanMCMC</a></code>, <code><a href="CmdStanMLE.html">CmdStanMLE</a></code>, <code><a href="CmdStanVB.html">CmdStanVB</a></code>, <code><a href="CmdStanGQ.html">CmdStanGQ</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># logistic regression with intercept alpha and coefficients beta</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="cmdstanr_example.html">cmdstanr_example</a></span><span class="op">(</span><span class="st">"logistic"</span>, method <span class="op">=</span> <span class="st">"sample"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># returned as 3-D array (see ?posterior::draws_array)</span></span></span>
<span class="r-in"><span><span class="va">draws</span> <span class="op">&lt;-</span> <span class="va">fit</span><span class="op">$</span><span class="fu">draws</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">draws</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1000    4  105</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">draws</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  'draws_array' num [1:1000, 1:4, 1:105] -70.3 -68.4 -69.8 -65 -64.3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "dimnames")=List of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ iteration: chr [1:1000] "1" "2" "3" "4" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ chain    : chr [1:4] "1" "2" "3" "4"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ variable : chr [1:105] "lp__" "alpha" "beta[1]" "beta[2]" ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># can easily convert to other formats (data frame, matrix, list)</span></span></span>
<span class="r-in"><span><span class="co"># using the posterior package</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">posterior</span><span class="fu">::</span><span class="fu"><a href="https://mc-stan.org/posterior/reference/draws_matrix.html" class="external-link">as_draws_matrix</a></span><span class="op">(</span><span class="va">draws</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # A draws_matrix: 6 iterations, 1 chains, and 105 variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> draw lp__ alpha beta[1] beta[2] beta[3] log_lik[1] log_lik[2] log_lik[3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1  -70 0.095   -0.89  -0.654    1.52      -0.71      -0.11      -0.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2  -68 0.357   -0.99  -0.583    1.40      -0.56      -0.16      -0.52</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3  -70 0.201   -0.15   0.251    0.52      -0.58      -0.38      -0.30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4  -65 0.246   -0.79  -0.028    0.76      -0.53      -0.26      -0.30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5  -64 0.205   -0.59  -0.237    0.55      -0.58      -0.39      -0.54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    6  -64 0.535   -0.51  -0.254    0.66      -0.46      -0.47      -0.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # ... with 97 more variables</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># or can specify 'format' argument to avoid manual conversion</span></span></span>
<span class="r-in"><span><span class="co"># matrix format combines all chains</span></span></span>
<span class="r-in"><span><span class="va">draws</span> <span class="op">&lt;-</span> <span class="va">fit</span><span class="op">$</span><span class="fu">draws</span><span class="op">(</span>format <span class="op">=</span> <span class="st">"matrix"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">draws</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # A draws_matrix: 6 iterations, 1 chains, and 105 variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> draw lp__ alpha beta[1] beta[2] beta[3] log_lik[1] log_lik[2] log_lik[3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1  -70 0.095   -0.89  -0.654    1.52      -0.71      -0.11      -0.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2  -68 0.357   -0.99  -0.583    1.40      -0.56      -0.16      -0.52</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3  -70 0.201   -0.15   0.251    0.52      -0.58      -0.38      -0.30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4  -65 0.246   -0.79  -0.028    0.76      -0.53      -0.26      -0.30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5  -64 0.205   -0.59  -0.237    0.55      -0.58      -0.39      -0.54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    6  -64 0.535   -0.51  -0.254    0.66      -0.46      -0.47      -0.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # ... with 97 more variables</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># can select specific parameters</span></span></span>
<span class="r-in"><span><span class="va">fit</span><span class="op">$</span><span class="fu">draws</span><span class="op">(</span><span class="st">"alpha"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # A draws_array: 1000 iterations, 4 chains, and 1 variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , variable = alpha</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          chain</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iteration     1    2      3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1 0.095 0.28 0.4579 0.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2 0.357 0.30 0.4601 0.51</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         3 0.201 0.71 0.3105 0.42</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         4 0.246 0.31 0.0019 0.47</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         5 0.205 0.15 0.5531 0.26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # ... with 995 more iterations</span>
<span class="r-in"><span><span class="va">fit</span><span class="op">$</span><span class="fu">draws</span><span class="op">(</span><span class="st">"beta"</span><span class="op">)</span>  <span class="co"># selects entire vector beta</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # A draws_array: 1000 iterations, 4 chains, and 3 variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , variable = beta[1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          chain</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iteration     1     2     3     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1 -0.89 -0.66 -0.58 -0.54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2 -0.99 -0.76 -0.49 -0.84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         3 -0.15 -0.93 -0.63 -1.06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         4 -0.79 -0.96 -0.43 -0.81</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         5 -0.59 -0.69 -0.97 -0.63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , variable = beta[2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          chain</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iteration      1       2       3      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1 -0.654 -0.2187 -0.4122  0.044</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2 -0.583  0.0003 -0.0011 -0.314</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         3  0.251 -0.3054  0.0416 -0.089</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         4 -0.028 -0.6455 -0.2830 -0.041</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         5 -0.237  0.0498 -0.2858 -0.621</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , variable = beta[3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          chain</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iteration    1    2    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1 1.52 0.27 0.43 0.60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2 1.40 1.08 0.50 0.47</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         3 0.52 0.42 0.76 0.58</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         4 0.76 0.52 0.55 0.85</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         5 0.55 0.43 0.81 0.69</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # ... with 995 more iterations</span>
<span class="r-in"><span><span class="va">fit</span><span class="op">$</span><span class="fu">draws</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alpha"</span>, <span class="st">"beta[2]"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # A draws_array: 1000 iterations, 4 chains, and 2 variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , variable = alpha</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          chain</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iteration     1    2      3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1 0.095 0.28 0.4579 0.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2 0.357 0.30 0.4601 0.51</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         3 0.201 0.71 0.3105 0.42</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         4 0.246 0.31 0.0019 0.47</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         5 0.205 0.15 0.5531 0.26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , variable = beta[2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          chain</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> iteration      1       2       3      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1 -0.654 -0.2187 -0.4122  0.044</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         2 -0.583  0.0003 -0.0011 -0.314</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         3  0.251 -0.3054  0.0416 -0.089</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         4 -0.028 -0.6455 -0.2830 -0.041</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         5 -0.237  0.0498 -0.2858 -0.621</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # ... with 995 more iterations</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># can be passed directly to bayesplot plotting functions</span></span></span>
<span class="r-in"><span><span class="fu">bayesplot</span><span class="fu">::</span><span class="fu"><a href="https://mc-stan.org/bayesplot/reference/bayesplot-colors.html" class="external-link">color_scheme_set</a></span><span class="op">(</span><span class="st">"brightblue"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">bayesplot</span><span class="fu">::</span><span class="fu"><a href="https://mc-stan.org/bayesplot/reference/MCMC-distributions.html" class="external-link">mcmc_dens</a></span><span class="op">(</span><span class="va">fit</span><span class="op">$</span><span class="fu">draws</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alpha"</span>, <span class="st">"beta"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="fit-method-draws-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">bayesplot</span><span class="fu">::</span><span class="fu"><a href="https://mc-stan.org/bayesplot/reference/MCMC-scatterplots.html" class="external-link">mcmc_scatter</a></span><span class="op">(</span><span class="va">fit</span><span class="op">$</span><span class="fu">draws</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"beta[1]"</span>, <span class="st">"beta[2]"</span><span class="op">)</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="fit-method-draws-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example using variational inference</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="cmdstanr_example.html">cmdstanr_example</a></span><span class="op">(</span><span class="st">"logistic"</span>, method <span class="op">=</span> <span class="st">"variational"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fit</span><span class="op">$</span><span class="fu">draws</span><span class="op">(</span><span class="st">"beta"</span><span class="op">)</span><span class="op">)</span> <span class="co"># a matrix by default</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # A draws_matrix: 6 iterations, 1 chains, and 3 variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> draw beta[1] beta[2] beta[3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1   -0.68   -0.28    0.74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2   -0.24   -0.29    0.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3   -0.66   -0.58    0.69</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4   -0.64   -0.37    0.70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5   -0.56   -0.13    0.60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    6   -0.81   -0.34    1.02</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fit</span><span class="op">$</span><span class="fu">draws</span><span class="op">(</span><span class="st">"beta"</span>, format <span class="op">=</span> <span class="st">"df"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # A draws_df: 6 iterations, 1 chains, and 3 variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   beta[1] beta[2] beta[3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   -0.68   -0.28    0.74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   -0.24   -0.29    0.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   -0.66   -0.58    0.69</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   -0.64   -0.37    0.70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   -0.56   -0.13    0.60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   -0.81   -0.34    1.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # ... hidden reserved variables {'.chain', '.iteration', '.draw'}</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonah Gabry, Rok Češnovar, Andrew Johnson, Steve Bronder.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>


<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- upstream: inst/BS5/templates/head.html; pkgdown-version: 2.1.3, fe04924 --><!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 --><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Save output and data files — fit-method-save_output_files • cmdstanr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4.0.0/tex-mml-chtml.js" integrity="sha256-qoRlVrS5NAnXSSSiMfFXwK8C9obG11Iybe4h2+bQYR4=" crossorigin="anonymous">
  </script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_3-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- Font Awesome 7.0.1 for Bluesky icon --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" referrerpolicy="no-referrer"><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Save output and data files — fit-method-save_output_files"><meta name="description" content="All fitted model objects have methods for saving (moving to a
specified location) the files created by CmdStanR to hold CmdStan output
csv files and input data files. These methods move the files from their
current location (possibly the temporary directory) to a user-specified
location. The paths stored in the fitted model object will also be
updated to point to the new file locations.
The versions without the save_ prefix (e.g., $output_files()) return
the current file paths without moving any files."><meta property="og:description" content="All fitted model objects have methods for saving (moving to a
specified location) the files created by CmdStanR to hold CmdStan output
csv files and input data files. These methods move the files from their
current location (possibly the temporary directory) to a user-specified
location. The paths stored in the fitted model object will also be
updated to point to the new file locations.
The versions without the save_ prefix (e.g., $output_files()) return
the current file paths without moving any files."><meta property="og:image" content="https://mc-stan.org/cmdstanr/logo.svg"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <!-- upstream: inst/BS5/templates/navbar.html; pkgdown-version: 2.1.3, fe04924 -->
<!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 -->
<nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">


    <a class="navbar-brand me-2" href="../index.html">
      <!-- Add Stan logo -->
      <picture><source type="image/svg+xml" srcset="../logo.svg"><img src="../logo.png" class="stan-logo" alt="Stan blue hex logo"></source></picture>
      cmdstanr
    </a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.9.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Go to homepage"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Other Packages</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-other-packages"><li><a class="external-link dropdown-item" href="https://mc-stan.org/bayesplot">bayesplot</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/loo">loo</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/posterior">posterior</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/projpred">projpred</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstan">rstan</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstanarm">rstanarm</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstantools">rstantools</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/shinystan">shinystan</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mc-stan.org/about/">About Stan</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/did:plc:qznndgdnkem2yryu7ipqbpv7" aria-label="Visit our Bluesky profile"><span class="fa fa-brands fa-bluesky"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://discourse.mc-stan.org/" aria-label="Visit our forums"><span class="fa fa-users"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stan-dev/cmdstanr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Save output and data files</h1>
      <small class="dont-index">Source: <a href="https://github.com/stan-dev/cmdstanr/blob/master/R/fit.R" class="external-link"><code>R/fit.R</code></a></small>
      <div class="d-none name"><code>fit-method-save_output_files.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>All fitted model objects have methods for saving (moving to a
specified location) the files created by CmdStanR to hold CmdStan output
csv files and input data files. These methods move the files from their
current location (possibly the temporary directory) to a user-specified
location. <strong>The paths stored in the fitted model object will also be
updated to point to the new file locations.</strong></p>
<p>The versions without the <code>save_</code> prefix (e.g., <code>$output_files()</code>) return
the current file paths without moving any files.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">save_output_files</span><span class="op">(</span>dir <span class="op">=</span> <span class="st">"."</span>, basename <span class="op">=</span> <span class="cn">NULL</span>, timestamp <span class="op">=</span> <span class="cn">TRUE</span>, random <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">save_latent_dynamics_files</span><span class="op">(</span></span>
<span>  dir <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  basename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  timestamp <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  random <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">save_profile_files</span><span class="op">(</span>dir <span class="op">=</span> <span class="st">"."</span>, basename <span class="op">=</span> <span class="cn">NULL</span>, timestamp <span class="op">=</span> <span class="cn">TRUE</span>, random <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">save_data_file</span><span class="op">(</span>dir <span class="op">=</span> <span class="st">"."</span>, basename <span class="op">=</span> <span class="cn">NULL</span>, timestamp <span class="op">=</span> <span class="cn">TRUE</span>, random <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">save_config_files</span><span class="op">(</span>dir <span class="op">=</span> <span class="st">"."</span>, basename <span class="op">=</span> <span class="cn">NULL</span>, timestamp <span class="op">=</span> <span class="cn">TRUE</span>, random <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">save_metric_files</span><span class="op">(</span>dir <span class="op">=</span> <span class="st">"."</span>, basename <span class="op">=</span> <span class="cn">NULL</span>, timestamp <span class="op">=</span> <span class="cn">TRUE</span>, random <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">output_files</span><span class="op">(</span>include_failed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">profile_files</span><span class="op">(</span>include_failed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">latent_dynamics_files</span><span class="op">(</span>include_failed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">data_file</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">config_files</span><span class="op">(</span>include_failed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">metric_files</span><span class="op">(</span>include_failed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dir">dir<a class="anchor" aria-label="anchor" href="#arg-dir"></a></dt>
<dd><p>(string) Path to directory where the files should be saved.</p></dd>


<dt id="arg-basename">basename<a class="anchor" aria-label="anchor" href="#arg-basename"></a></dt>
<dd><p>(string) Base filename to use. See <strong>Details</strong>.</p></dd>


<dt id="arg-timestamp">timestamp<a class="anchor" aria-label="anchor" href="#arg-timestamp"></a></dt>
<dd><p>(logical) Should a timestamp be added to the file name(s)?
Defaults to <code>TRUE</code>. See <strong>Details</strong>.</p></dd>


<dt id="arg-random">random<a class="anchor" aria-label="anchor" href="#arg-random"></a></dt>
<dd><p>(logical) Should random alphanumeric characters be added to the
end of the file name(s)? Defaults to <code>TRUE</code>. See <strong>Details</strong>.</p></dd>


<dt id="arg-include-failed">include_failed<a class="anchor" aria-label="anchor" href="#arg-include-failed"></a></dt>
<dd><p>(logical) Should CmdStan runs that failed also be
included? The default is <code>FALSE.</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The <code>$save_*</code> methods print a message with the new file paths and (invisibly)
return a character vector of the new paths (or <code>NA</code> for any that couldn't be
copied). They also have the side effect of setting the internal paths in the
fitted model object to the new paths.</p>
<p>The methods <em>without</em> the <code>save_</code> prefix return character vectors of file
paths without moving any files.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>


<p>For <code>$save_output_files()</code> the files moved to <code>dir</code> will have names of
the form <code>basename-timestamp-id-random</code>, where</p><ul><li><p><code>basename</code> is the user's provided <code>basename</code> argument;</p></li>
<li><p><code>timestamp</code> is of the form <code>format(Sys.time(), "%Y%m%d%H%M")</code>;</p></li>
<li><p><code>id</code> is the MCMC chain id (or <code>1</code> for non MCMC);</p></li>
<li><p><code>random</code> contains six random alphanumeric characters;</p></li>
</ul><p>For <code>$save_latent_dynamics_files()</code> everything is the same as for
<code>$save_output_files()</code> except <code>"-diagnostic-"</code> is included in the new
file name after <code>basename</code>.</p>
<p>For <code>$save_profile_files()</code> everything is the same as for
<code>$save_output_files()</code> except <code>"-profile-"</code> is included in the new
file name after <code>basename</code>.</p>
<p>For <code>$save_metric_files()</code> everything is the same as for
<code>$save_output_files()</code> except <code>"-metric-"</code> is included in the new
file name after <code>basename</code>.</p>
<p>For <code>$save_config_files()</code> everything is the same as for
<code>$save_output_files()</code> except <code>"-config-"</code> is included in the new
file name after <code>basename</code>.</p>
<p>For <code>$save_data_file()</code> no <code>id</code> is included in the file name because even
with multiple MCMC chains the data file is the same.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="CmdStanMCMC.html">CmdStanMCMC</a></code>, <code><a href="CmdStanMLE.html">CmdStanMLE</a></code>, <code><a href="CmdStanVB.html">CmdStanVB</a></code>, <code><a href="CmdStanGQ.html">CmdStanGQ</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="cmdstanr_example.html">cmdstanr_example</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span><span class="op">$</span><span class="fu">output_files</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/tmp/RtmpS74B50/logistic-202601022126-1-309c16.csv"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "/tmp/RtmpS74B50/logistic-202601022126-2-309c16.csv"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "/tmp/RtmpS74B50/logistic-202601022126-3-309c16.csv"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "/tmp/RtmpS74B50/logistic-202601022126-4-309c16.csv"</span>
<span class="r-in"><span><span class="va">fit</span><span class="op">$</span><span class="fu">data_file</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/home/runner/work/_temp/Library/cmdstanr/logistic.data.json"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># just using tempdir for the example</span></span></span>
<span class="r-in"><span><span class="va">my_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span><span class="op">$</span><span class="fu">save_output_files</span><span class="op">(</span>dir <span class="op">=</span> <span class="va">my_dir</span>, basename <span class="op">=</span> <span class="st">"banana"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Moved 4 files and set internal paths to new locations:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - /tmp/RtmpS74B50/banana-202601022126-1-0f8b71.csv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - /tmp/RtmpS74B50/banana-202601022126-2-0f8b71.csv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - /tmp/RtmpS74B50/banana-202601022126-3-0f8b71.csv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - /tmp/RtmpS74B50/banana-202601022126-4-0f8b71.csv</span>
<span class="r-in"><span><span class="va">fit</span><span class="op">$</span><span class="fu">save_output_files</span><span class="op">(</span>dir <span class="op">=</span> <span class="va">my_dir</span>, basename <span class="op">=</span> <span class="st">"tomato"</span>, timestamp <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Moved 4 files and set internal paths to new locations:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - /tmp/RtmpS74B50/tomato-1-7a3439.csv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - /tmp/RtmpS74B50/tomato-2-7a3439.csv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - /tmp/RtmpS74B50/tomato-3-7a3439.csv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - /tmp/RtmpS74B50/tomato-4-7a3439.csv</span>
<span class="r-in"><span><span class="va">fit</span><span class="op">$</span><span class="fu">save_output_files</span><span class="op">(</span>dir <span class="op">=</span> <span class="va">my_dir</span>, basename <span class="op">=</span> <span class="st">"lettuce"</span>, timestamp <span class="op">=</span> <span class="cn">FALSE</span>, random <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Moved 4 files and set internal paths to new locations:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - /tmp/RtmpS74B50/lettuce-1.csv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - /tmp/RtmpS74B50/lettuce-2.csv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - /tmp/RtmpS74B50/lettuce-3.csv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> - /tmp/RtmpS74B50/lettuce-4.csv</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jonah Gabry, Rok Češnovar, Andrew Johnson, Steve Bronder.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

